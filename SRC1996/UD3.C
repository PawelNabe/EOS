/* (C) Copyright by PaN Super Sonic Software Service 1992	*/
/*                  expert for hi tec & low budget		*/

#include <stdio.h>

#define	ESC	'\033'

static void p1(c)
unsigned char c;
{
	putc(c, stdout);
} /* p1 */

static void defCharProlog(c, bits, so)
unsigned char c, *bits;
int so;
{
	p1(ESC);
	p1('&');
	p1(0);
	p1(c);
	p1(c);
	p1(2);
	p1(so);
	p1(2);
	so *= 3;
	while (--so>=0)
		p1(*bits++);
} /* defCharProlog */

static usrCharOnOff(on_off)
int on_off;
{
	p1(ESC);
	p1('%');
	p1(!!on_off);
} /* usrCharOnOff */

static void prUsrStr(str)
char *str;
{
	usrCharOnOff(1);
	fputs(str, stdout);
	usrCharOnOff(0);
} /* prUsrStr */

static void dWidOnOff(on_off)
int on_off;
{
	p1(ESC);
	p1('W');
	p1(!!on_off);
} /* dWidOnOff */

void defUsrChrs()
{
	static unsigned char eval[] = {
		0177, 0377, 0376,
		0177, 0377, 0376,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0074, 0006,
		0140, 0074, 0006,
		0140, 0104, 0006,
		0140, 0104, 0006,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0177, 0201, 0376,
		0177, 0201, 0376,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0140, 0104, 0006,
		0140, 0104, 0006,
		0140, 0074, 0006,
		0140, 0074, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0177, 0377, 0376,
		0177, 0377, 0376,
	},
	avr[] = {
		0177, 0377, 0376,
		0177, 0377, 0376,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0177, 0377, 0376,
		0177, 0377, 0376,
	},
	t1[] = {
		0177, 0377, 0376,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0074, 0006,
		0140, 0102, 0006,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0140, 0102, 0006,
		0140, 0074, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0140, 0000, 0006,
		0177, 0377, 0376,
	},
	part[] = {
		0177, 0377, 0376,
		0177, 0377, 0376,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0044, 0006,
		0140, 0044, 0006,
		0140, 0102, 0006,
		0140, 0102, 0006,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0177, 0201, 0376,
		0177, 0201, 0376,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0140, 0102, 0006,
		0140, 0102, 0006,
		0140, 0044, 0006,
		0140, 0044, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0177, 0377, 0376,
		0177, 0377, 0376,
	},
	spot[] = {
		0177, 0377, 0376,
		0177, 0377, 0376,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0074, 0006,
		0140, 0074, 0006,
		0140, 0102, 0006,
		0140, 0102, 0006,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0177, 0201, 0376,
		0177, 0201, 0376,
		0140, 0201, 0006,
		0140, 0201, 0006,
		0140, 0102, 0006,
		0140, 0102, 0006,
		0140, 0074, 0006,
		0140, 0074, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0140, 0030, 0006,
		0177, 0377, 0376,
		0177, 0377, 0376,
	};

#define	DEFCHPLG(a, b)	defCharProlog(a, b, (sizeof b)/3)

	DEFCHPLG('#', eval);

	DEFCHPLG('[', avr);

	DEFCHPLG(']', t1);

	DEFCHPLG('*', part);

	DEFCHPLG('.', spot);
} /* defUsrChrs */

int main(argc, argv)
int argc;
char *argv[];
{
	stdout->flags |= _F_BIN;

	defUsrChrs();
	fputs("abcdefghijklmnopqrstuvwxyz", stdout);
	dWidOnOff(1);
	prUsrStr("[] . * # [] . * #");
	dWidOnOff(0);
	puts("ABCDEFGHIJKLMNOPQRSTUVWXYZ\n\n\n\n");

	return(0);
} /* main */

